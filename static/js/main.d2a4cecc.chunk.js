(this["webpackJsonpcovid-tracker"]=this["webpackJsonpcovid-tracker"]||[]).push([[0],{118:function(e,t,a){},232:function(e,t,a){},234:function(e,t,a){"use strict";a.r(t);var s=a(0),c=a(7),r=a.n(c),n=(a(118),a(10)),o=a(274),i=a(272),l=a(264),d=a(268),u=a(61),j=a(14),p=a.n(j),h=a(2),b=a(120);var v=function(e){var t,a=e.title,s=e.cases,c=e.total,r=e.lastUpdated,n=e.isActive,o=e.handleOnClick;return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(l.a,{onClick:function(){return function(e){o(e)}(a)},className:"Coronavirus Cases"===a&&"Coronavirus Cases"===n?"box activeBoxCases":"Recovered"===a&&"Recovered"===n?"box recoveredCases":"Deaths"===a&&"Deaths"===n?" box deathCases":"box",children:[Object(h.jsx)(d.a,{variant:"h6",color:"textPrimary",children:a}),Object(h.jsxs)(d.a,{style:{fontWeight:"bolder"},variant:"subtitle1",color:"textPrimary",children:["Coronavirus Cases"===a&&Object(h.jsx)(u.a,{style:{color:"red",fontSize:"20px",position:"relative",top:"2px"}}),"Recovered"===a&&Object(h.jsx)(u.a,{style:{color:"green",fontSize:"20px",position:"relative",top:"2px"}}),"Deaths"===a&&Object(h.jsx)(u.a,{style:{color:"darkgray",fontSize:"20px",position:"relative",top:"2px"}}),p()(s).format("0,0")]}),Object(h.jsx)(d.a,{variant:"subtitle1",color:"textPrimary",children:"Total : ".concat(p()(c).format("0.0a"))}),Object(h.jsxs)(d.a,{color:"textPrimary",style:{fontSize:"13.5px"},variant:"p",children:["Last Updated : ",Object(h.jsx)("b",{children:(t=r,b(t).format("LLL"))})]})]})})},O=a(273),x=a(38),m=a.n(x),f=a(59),y=a(108),C={plugins:{legend:{display:!1},maintainAspectRatio:!0}},g=function(e,t){var a,s=[];for(var c in e.cases){if(a){var r={x:c,y:e[t][c]-a};s.push(r)}a=e[t][c]}return s};var w=function(e){var t=e.casesType,a=void 0===t?"cases":t,c=e.countryType,r=void 0===c?"worldwide":c,o=e.title,i=void 0===o?"Coronavirus Cases":o,d=Object(s.useState)({}),u=Object(n.a)(d,2),j=u[0],p=u[1],b=Object(s.useState)(!1),v=Object(n.a)(b,2),O=v[0],x=v[1],w=Object(s.useState)("crimson"),N=Object(n.a)(w,2),D=N[0],R=N[1];return Object(s.useEffect)((function(){x(!0),function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://disease.sh/v3/covid-19/historical/".concat("worldwide"===r?"all":r,"?lastdays=30")).then((function(e){return e.json()})).then((function(e){var t=g("worldwide"===r?e:e.timeline,a);p(t),console.log(t)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),x(!1),"Coronavirus Cases"===i?R("crimson"):"Recovered"===i?R("limegreen"):"Deaths"===i&&R("darkgray")}),[a,r]),Object(h.jsx)(h.Fragment,{children:O?Object(h.jsx)("p",{children:"Loading Data...."}):Object(h.jsx)("div",{className:"chart-container",children:Object(h.jsx)(l.a,{children:(null===j||void 0===j?void 0:j.length)>0&&Object(h.jsx)(y.a,{data:{datasets:[{backgroundColor:D,borderColor:D,data:j}]},options:C})})})})};function N(e){var t=e.img,a=e.trailText,s=e.title,c=e.webUrl;if(void 0==t||void 0==a||void 0==s)return null;return Object(h.jsxs)("div",{className:"news-card-container",children:[Object(h.jsx)("img",{className:"news-image",src:t}),Object(h.jsxs)("div",{className:"card-body",children:[Object(h.jsx)("p",{className:"news-title",children:s}),Object(h.jsx)("p",{className:"news-trail-text",children:a})]}),Object(h.jsx)("div",{className:"news-button-container",children:Object(h.jsx)("button",{onClick:function(){window.location=c},className:"news-button",children:"Read More"})})]})}function D(){var e=Object(s.useState)([]),t=Object(n.a)(e,2),a=t[0],c=t[1];return Object(s.useEffect)(Object(f.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://content.guardianapis.com/search?show-fields=all&page=1&page-size=60&q=covid%20AND%20india&from-date=2021-05-05&api-key=1aaec247-7620-4a4c-8699-7cd6777a7705");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,c(a.response.results);case 7:case"end":return e.stop()}}),e)}))),[]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"news-container-title",children:Object(h.jsx)("h1",{children:"Latest News"})}),Object(h.jsx)("div",{className:"news-container",children:a.map((function(e){return Object(h.jsx)(N,{webUrl:e.webUrl,trailText:e.fields.trailText,title:e.fields.headline,img:e.fields.thumbnail})}))})]})}var R=function(e){var t=e.tableData.sort((function(e,t){return e.cases>t.cases?-1:1}));return Object(h.jsxs)(l.a,{children:[Object(h.jsx)("h4",{className:"table-title",children:"Live Cases By Country"}),Object(h.jsx)("div",{className:"table",children:null===t||void 0===t?void 0:t.map((function(e){return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("tr",{className:"table-row",children:[Object(h.jsx)("td",{className:"table-data",children:e.country}),Object(h.jsx)("td",{className:"table-data",children:p()(e.cases).format("0,0")})]})})}))})]})},k=a(270),T=a(271),P=a(276),S=a(275),U=a(269);function M(e,t){var a={};return"Coronavirus Cases"===t?(a.title="Today's Cases",a.stitle="Total Cases",a.ptitle="Cases Per One Million",a.cases=e.cases,a.todayCases=e.todayCases,a.casesPerMillion=e.activePerOneMillion):"Recovered"===t?(a.title="Today's Recoveries",a.stitle="Total Recoveries",a.ptitle="Recoveries Per One Million",a.cases=e.recovered,a.todayCases=e.todayRecovered,a.casesPerMillion=e.recoveredPerOneMillion):(a.title="Today's Deaths",a.stitle="Total Deaths",a.ptitle="Deaths Per One Million",a.cases=e.deaths,a.todayDeaths=e.todayDeaths,a.casesPerMillion=e.deathsPerOneMillion),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("p",{className:"popup-data",children:"".concat(a.title," : ").concat(p()(a.todayCases).format("0,0"))}),Object(h.jsx)("p",{className:"popup-data",children:"".concat(a.stitle," : ").concat(p()(a.cases).format("0,0"))}),Object(h.jsx)("p",{className:"popup-data",children:"".concat(a.ptitle," : ").concat(p()(a.casesPerMillion).format("0,0"))})]})}function z(e){var t=e.lat,a=e.long,c=e.item,r=e.casesType,n=e.multiplier,o=e.color,i=e.active,l=(e.openPopup,c.countryInfo),d=Object(s.useRef)(null);return Object(h.jsx)(S.a,{ref:d,pathOptions:{color:o,fillColor:o},center:[t,a],radius:1.2*Math.sqrt(r*n),children:Object(h.jsx)(U.a,{children:Object(h.jsxs)("div",{className:"popup-container",children:[Object(h.jsxs)("div",{className:"popup-left",children:[Object(h.jsx)("img",{className:"popup-flag",src:l.flag}),Object(h.jsx)("p",{style:{margin:"5px 0px 0px 0px"},children:c.country})]}),Object(h.jsx)("div",{className:"popup-right",children:M(c,i)})]})})})}var I={color:"crimson",multiplier:1e4},L={color:"limegreen",multiplier:2e4},A={color:"darkgray",multiplier:3e4};function E(e){var t=e.center,a=e.zoom,s=e.changedItem,c=Object(k.a)();return"worldwide"===s.toLowerCase()?(c.setView(t,3),null):(c.setView(t,a),null)}function F(e,t){var a,s,c;return"Coronavirus Cases"===t?(a="cases",s=I.multiplier,c=I.color):"Recovered"===t?(a="recovered",s=L.multiplier,c=L.color):(a="deaths",s=A.multiplier,c=A.color),e.map((function(e){var r=e.countryInfo,n=!1;"India"===e.country&&(n=!0);var o=r.lat,i=r.long;return Object(h.jsx)(z,{openPopup:n,active:t,lat:o,long:i,item:e,casesType:e[a],multiplier:s,color:c})}))}var V=function(e){var t=e.cords,a=e.countryData,s=e.activeCountry,c=e.active;return Object(h.jsx)(l.a,{className:"map-card",children:Object(h.jsxs)(T.a,{center:t,zoom:1,scrollWheelZoom:!1,children:[Object(h.jsx)(E,{center:t,changedItem:s,zoom:4.5}),Object(h.jsx)(P.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.basemaps.cartocdn.com/dark_nolabels/{z}/{x}/{y}{r}.png"}),F(a,c)]})})};a(232);var B=function(){var e=Object(s.useState)([]),t=Object(n.a)(e,2),a=t[0],c=t[1],r=Object(s.useState)("Coronavirus Cases"),l=Object(n.a)(r,2),d=l[0],u=l[1],j=Object(s.useState)({todayCases:null,todayRecovered:null,todayDeaths:null,totalCases:null,totalRecovery:null,totalDeaths:null,lastUpdated:null}),p=Object(n.a)(j,2),b=p[0],x=p[1],m=Object(s.useState)([]),f=Object(n.a)(m,2),y=f[0],C=f[1],g=Object(s.useState)("worldwide"),N=Object(n.a)(g,2),k=N[0],T=N[1],P=Object(s.useState)([50,20]),S=Object(n.a)(P,2),U=S[0],M=S[1];return Object(s.useEffect)((function(){fetch("https://disease.sh/v3/covid-19/countries").then((function(e){return e.json()})).then((function(e){c(e),C(e)}))}),[]),Object(s.useEffect)((function(){if("worldwide"===k)fetch("https://disease.sh/v3/covid-19/all").then((function(e){return e.json()})).then((function(e){var t=e.cases,a=e.deaths,s=e.recovered,c=e.todayCases,r=e.todayDeaths,n=e.todayRecovered,o=e.updated;x({todayCases:c,todayDeaths:r,todayRecovered:n,totalCases:t,totalDeaths:a,totalRecovery:s,lastUpdated:o})})),M([50,20]);else{var e=y.filter((function(e){return e.country===k}));console.log("this is selected country data",e);var t=e[0],a=t.cases,s=t.deaths,c=t.recovered,r=t.todayCases,n=t.todayDeaths,o=t.todayRecovered,i=t.updated,l=t.countryInfo;x({todayCases:r,todayDeaths:n,todayRecovered:o,totalCases:a,totalDeaths:s,totalRecovery:c,lastUpdated:i});var d=l.lat,u=l.long;M([d,u])}}),[k]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"app",children:[Object(h.jsxs)("div",{className:"app-left",children:[Object(h.jsxs)("div",{className:"app-header",children:[Object(h.jsx)("h1",{children:"COVID 19 TRACKER"}),Object(h.jsx)(i.a,{children:Object(h.jsxs)(O.a,{defaultValue:"worldwide",variant:"outlined",value:k,onChange:function(e){T(e.target.value)},children:[Object(h.jsx)(o.a,{value:"worldwide",children:"Worldwide"},"worldwide"),a.length>0&&a.sort((function(e,t){return e.country>t.country?-1:1})).map((function(e){return Object(h.jsx)(o.a,{value:e.country,children:e.country},e.country)}))]})})]}),Object(h.jsxs)("div",{className:"app-infoboxes",children:[Object(h.jsx)(v,{handleOnClick:function(e){return u(e)},isActive:d,lastUpdated:b.lastUpdated,title:"Coronavirus Cases",cases:b.todayCases,total:b.totalCases}),Object(h.jsx)(v,{handleOnClick:function(e){return u(e)},isActive:d,lastUpdated:b.lastUpdated,title:"Recovered",cases:b.todayRecovered,total:b.totalRecovery}),Object(h.jsx)(v,{handleOnClick:function(e){return u(e)},isActive:d,lastUpdated:b.lastUpdated,title:"Deaths",cases:b.todayDeaths,total:b.totalDeaths})]}),Object(h.jsx)("div",{className:"app-map",children:Object(h.jsx)(V,{active:d,activeCountry:k,countryData:a,cords:U})})]}),Object(h.jsxs)("div",{className:"app-right",children:[Object(h.jsx)("div",{className:"app-right-table",children:Object(h.jsx)(R,{tableData:y})}),Object(h.jsx)(w,{title:d,casesType:"Coronavirus Cases"===d?"cases":"Recovered"===d?"recovered":"deaths",countryType:k})]})]}),Object(h.jsx)("div",{className:"news-app",children:Object(h.jsx)(D,{})})]})};r.a.render(Object(h.jsx)(B,{}),document.getElementById("root"))}},[[234,1,2]]]);
//# sourceMappingURL=main.d2a4cecc.chunk.js.map