(this["webpackJsonpcovid-tracker"]=this["webpackJsonpcovid-tracker"]||[]).push([[0],{118:function(e,t,a){},232:function(e,t,a){},234:function(e,t,a){"use strict";a.r(t);var s=a(0),c=a(7),r=a.n(c),n=(a(118),a(10)),o=a(274),i=a(272),l=a(264),d=a(268),j=a(61),u=a(14),h=a.n(u),b=a(2),p=a(120);var v=function(e){var t,a=e.title,s=e.cases,c=e.total,r=e.lastUpdated,n=e.isActive,o=e.handleOnClick;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(l.a,{onClick:function(){return function(e){o(e)}(a)},className:"Coronavirus Cases"===a&&"Coronavirus Cases"===n?"box activeBoxCases":"Recovered"===a&&"Recovered"===n?"box recoveredCases":"Deaths"===a&&"Deaths"===n?" box deathCases":"box",children:[Object(b.jsx)(d.a,{variant:"h6",color:"textPrimary",children:a}),Object(b.jsxs)(d.a,{style:{fontWeight:"bolder"},variant:"subtitle1",color:"textPrimary",children:["Coronavirus Cases"===a&&Object(b.jsx)(j.a,{style:{color:"red",fontSize:"20px",position:"relative",top:"2px"}}),"Recovered"===a&&Object(b.jsx)(j.a,{style:{color:"green",fontSize:"20px",position:"relative",top:"2px"}}),"Deaths"===a&&Object(b.jsx)(j.a,{style:{color:"darkgray",fontSize:"20px",position:"relative",top:"2px"}}),h()(s).format("0,0")]}),Object(b.jsx)(d.a,{variant:"subtitle1",color:"textPrimary",children:"Total : ".concat(h()(c).format("0.0a"))}),Object(b.jsxs)(d.a,{color:"textPrimary",style:{fontSize:"13.5px"},variant:"p",children:["Last Updated : ",Object(b.jsx)("b",{children:(t=r,p(t).format("LLL"))})]})]})})},O=a(273),x=a(38),m=a.n(x),f=a(59),y=a(108),C={plugins:{legend:{display:!1},maintainAspectRatio:!0}},g=function(e,t){var a,s=[];for(var c in e.cases){if(a){var r={x:c,y:e[t][c]-a};s.push(r)}a=e[t][c]}return s};var w=function(e){var t=e.casesType,a=void 0===t?"cases":t,c=e.countryType,r=void 0===c?"worldwide":c,o=e.title,i=void 0===o?"Coronavirus Cases":o,d=Object(s.useState)({}),j=Object(n.a)(d,2),u=j[0],h=j[1],p=Object(s.useState)(!1),v=Object(n.a)(p,2),O=v[0],x=v[1],w=Object(s.useState)("crimson"),N=Object(n.a)(w,2),D=N[0],R=N[1];return Object(s.useEffect)((function(){x(!0),function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://disease.sh/v3/covid-19/historical/".concat("worldwide"===r?"all":r,"?lastdays=30")).then((function(e){return e.json()})).then((function(e){var t=g("worldwide"===r?e:e.timeline,a);h(t),console.log(t)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),x(!1),"Coronavirus Cases"===i?R("crimson"):"Recovered"===i?R("limegreen"):"Deaths"===i&&R("darkgray")}),[a,r]),Object(b.jsx)(b.Fragment,{children:O?Object(b.jsx)("p",{children:"Loading Data...."}):Object(b.jsx)("div",{className:"chart-container",children:Object(b.jsx)(l.a,{children:(null===u||void 0===u?void 0:u.length)>0&&Object(b.jsx)(y.a,{data:{datasets:[{backgroundColor:D,borderColor:D,data:u}]},options:C})})})})};function N(e){var t=e.img,a=e.trailText,s=e.title,c=e.webUrl;if(void 0==t||void 0==a||void 0==s)return null;return Object(b.jsxs)("div",{className:"news-card-container",children:[Object(b.jsx)("img",{className:"news-image",src:t}),Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("p",{className:"news-title",children:s}),Object(b.jsx)("p",{className:"news-trail-text",children:a})]}),Object(b.jsx)("div",{className:"news-button-container",children:Object(b.jsx)("button",{onClick:function(){window.location=c},className:"news-button",children:"Read More"})})]})}function D(){var e=Object(s.useState)([]),t=Object(n.a)(e,2),a=t[0],c=t[1];return Object(s.useEffect)(Object(f.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://content.guardianapis.com/search?show-fields=all&page=1&page-size=60&q=covid%20AND%20india&from-date=2021-05-05&api-key=1aaec247-7620-4a4c-8699-7cd6777a7705");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,c(a.response.results);case 7:case"end":return e.stop()}}),e)}))),[]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"news-container-title",children:Object(b.jsx)("h1",{children:"Latest News"})}),Object(b.jsx)("div",{className:"news-container",children:a.map((function(e){return Object(b.jsx)(N,{webUrl:e.webUrl,trailText:e.fields.trailText,title:e.fields.headline,img:e.fields.thumbnail},e.webUrl)}))})]})}var R=function(e){var t=e.tableData.sort((function(e,t){return e.cases>t.cases?-1:1}));return Object(b.jsxs)(l.a,{children:[Object(b.jsx)("h4",{className:"table-title",children:"Live Cases By Country"}),Object(b.jsx)("div",{className:"table",children:null===t||void 0===t?void 0:t.map((function(e){return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("tr",{className:"table-row",children:[Object(b.jsx)("td",{className:"table-data",children:e.country}),Object(b.jsx)("td",{className:"table-data",children:h()(e.cases).format("0,0")})]})})}))})]})},k=a(270),S=a(275),T=a(269),U=a(271),P=a(276);var M={color:"crimson",multiplier:1e4},L={color:"limegreen",multiplier:2e4},z={color:"darkgray",multiplier:3e4};function A(e){var t=e.center,a=(e.zoom,e.changedItem),s=Object(k.a)();return a.toLowerCase(),s.setView(t,4.5),null}function F(e,t){var a,s,c;function r(e){var a={};return"Coronavirus Cases"===t?(a.title="Today's Cases",a.stitle="Total Cases",a.ptitle="Cases Per One Million",a.cases=e.cases,a.todayCases=e.todayCases,a.casesPerMillion=e.activePerOneMillion):"Recovered"===t?(a.title="Today's Recoveries",a.stitle="Total Recoveries",a.ptitle="Recoveries Per One Million",a.cases=e.recovered,a.todayCases=e.todayRecovered,a.casesPerMillion=e.recoveredPerOneMillion):(a.title="Today's Deaths",a.stitle="Total Deaths",a.ptitle="Deaths Per One Million",a.cases=e.deaths,a.todayDeaths=e.todayDeaths,a.casesPerMillion=e.deathsPerOneMillion),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("p",{className:"popup-data",children:"".concat(a.title," : ").concat(h()(a.todayCases).format("0,0"))}),Object(b.jsx)("p",{className:"popup-data",children:"".concat(a.stitle," : ").concat(h()(a.cases).format("0,0"))}),Object(b.jsx)("p",{className:"popup-data",children:"".concat(a.ptitle," : ").concat(h()(a.casesPerMillion).format("0,0"))})]})}return"Coronavirus Cases"===t?(a="cases",s=M.multiplier,c=M.color):"Recovered"===t?(a="recovered",s=L.multiplier,c=L.color):(a="deaths",s=z.multiplier,c=z.color),e.map((function(e){var t=e.countryInfo;e.country;var n=t.lat,o=t.long;return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(S.a,{pathOptions:{color:c,fillColor:c},center:[n,o],radius:1.2*Math.sqrt(e[a]*s),children:Object(b.jsx)(T.a,{children:Object(b.jsxs)("div",{className:"popup-container",children:[Object(b.jsxs)("div",{className:"popup-left",children:[Object(b.jsx)("img",{className:"popup-flag",src:t.flag}),Object(b.jsx)("p",{style:{margin:"5px 0px 0px 0px"},children:e.country})]}),Object(b.jsx)("div",{className:"popup-right",children:r(e)})]})})},e.country)})}))}var E=function(e){var t=e.cords,a=e.countryData,s=e.activeCountry,c=e.active;return Object(b.jsx)(l.a,{className:"map-card",children:Object(b.jsxs)(U.a,{center:t,zoom:1,scrollWheelZoom:!1,children:[Object(b.jsx)(A,{center:t,changedItem:s,zoom:4.5}),Object(b.jsx)(P.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.basemaps.cartocdn.com/dark_nolabels/{z}/{x}/{y}{r}.png"}),F(a,c)]})})};a(232);var I=function(){var e=Object(s.useState)([]),t=Object(n.a)(e,2),a=t[0],c=t[1],r=Object(s.useState)("Coronavirus Cases"),l=Object(n.a)(r,2),d=l[0],j=l[1],u=Object(s.useState)({todayCases:null,todayRecovered:null,todayDeaths:null,totalCases:null,totalRecovery:null,totalDeaths:null,lastUpdated:null}),h=Object(n.a)(u,2),p=h[0],x=h[1],m=Object(s.useState)([]),f=Object(n.a)(m,2),y=f[0],C=f[1],g=Object(s.useState)("worldwide"),N=Object(n.a)(g,2),k=N[0],S=N[1],T=Object(s.useState)([50,20]),U=Object(n.a)(T,2),P=U[0],M=U[1];return Object(s.useEffect)((function(){fetch("https://disease.sh/v3/covid-19/countries").then((function(e){return e.json()})).then((function(e){c(e),C(e)}))}),[]),Object(s.useEffect)((function(){if("worldwide"===k.toLocaleLowerCase())fetch("https://disease.sh/v3/covid-19/all").then((function(e){return e.json()})).then((function(e){var t=e.cases,a=e.deaths,s=e.recovered,c=e.todayCases,r=e.todayDeaths,n=e.todayRecovered,o=e.updated;x({todayCases:c,todayDeaths:r,todayRecovered:n,totalCases:t,totalDeaths:a,totalRecovery:s,lastUpdated:o}),M([50,20])}));else{var e=y.filter((function(e){return e.country===k}))[0],t=e.cases,a=e.deaths,s=e.recovered,c=e.todayCases,r=e.todayDeaths,n=e.todayRecovered,o=e.updated,i=e.countryInfo;x({todayCases:c,todayDeaths:r,todayRecovered:n,totalCases:t,totalDeaths:a,totalRecovery:s,lastUpdated:o});var l=i.lat,d=i.long;M([l,d])}}),[k]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"app",children:[Object(b.jsxs)("div",{className:"app-left",children:[Object(b.jsxs)("div",{className:"app-header",children:[Object(b.jsx)("h1",{children:"COVID 19 TRACKER"}),Object(b.jsx)(i.a,{children:Object(b.jsxs)(O.a,{defaultValue:"worldwide",variant:"outlined",value:k,onChange:function(e){S(e.target.value)},children:[Object(b.jsx)(o.a,{value:"worldwide",children:"Worldwide"},"worldwide"),a.length>0&&a.sort((function(e,t){return e.country>t.country?-1:1})).map((function(e){return Object(b.jsx)(o.a,{value:e.country,children:e.country},e.country)}))]})})]}),Object(b.jsxs)("div",{className:"app-infoboxes",children:[Object(b.jsx)(v,{handleOnClick:function(e){return j(e)},isActive:d,lastUpdated:p.lastUpdated,title:"Coronavirus Cases",cases:p.todayCases,total:p.totalCases}),Object(b.jsx)(v,{handleOnClick:function(e){return j(e)},isActive:d,lastUpdated:p.lastUpdated,title:"Recovered",cases:p.todayRecovered,total:p.totalRecovery}),Object(b.jsx)(v,{handleOnClick:function(e){return j(e)},isActive:d,lastUpdated:p.lastUpdated,title:"Deaths",cases:p.todayDeaths,total:p.totalDeaths})]}),Object(b.jsx)("div",{className:"app-map",children:Object(b.jsx)(E,{active:d,activeCountry:k,countryData:a,cords:P})})]}),Object(b.jsxs)("div",{className:"app-right",children:[Object(b.jsx)("div",{className:"app-right-table",children:Object(b.jsx)(R,{tableData:y})}),Object(b.jsx)(w,{title:d,casesType:"Coronavirus Cases"===d?"cases":"Recovered"===d?"recovered":"deaths",countryType:k})]})]}),Object(b.jsx)("div",{className:"news-app",children:Object(b.jsx)(D,{})})]})};r.a.render(Object(b.jsx)(I,{}),document.getElementById("root"))}},[[234,1,2]]]);
//# sourceMappingURL=main.8246f58a.chunk.js.map